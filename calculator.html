<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Calculator</title>
	</head>
	<body>
		<p class="js-calculation">Press any button to begin</p>
		<p>
			<button onclick="updateCalculation('1')">1</button>
			<button onclick="updateCalculation('2')">2</button>
			<button onclick="updateCalculation('3')">3</button>
			<button onclick="updateCalculation(' + ')">+</button>
		</p>
		<p>
			<button onclick="updateCalculation('4')">4</button>
			<button onclick="updateCalculation('5')">5</button>
			<button onclick="updateCalculation('6')">6</button>
			<button onclick="updateCalculation(' - ')">-</button>
		</p>
		<p>
			<button onclick="updateCalculation('7')">7</button>
			<button onclick="updateCalculation('8')">8</button>
			<button onclick="updateCalculation('9')">9</button>
			<button onclick="updateCalculation(' * ')">*</button>
		</p>

		<p>
			<button onclick="updateCalculation('0')">0</button>
			<button onclick="updateCalculation('.')">.</button>
			<button onclick="calculation=eval(calculation);updateCalculation()">=</button>
			<button onclick="updateCalculation(' / ')">/</button>
		</p>

		<button onclick="calculation='';updateCalculation()">Clear</button>

		<script>
			let calculation = localStorage.getItem("calculation") ?? "";

			/**
			 * @param {string} input
			 * @returns {void}
			 */
			const updateCalculation = (input) => {
				input && (calculation += input);
				calculation ? localStorage.setItem("calculation", calculation) : localStorage.removeItem("calculation");
				document.querySelector("p.js-calculation").innerHTML = calculation || "Press any button to begin";
			};

			updateCalculation();
		</script>
	</body>
</html>
